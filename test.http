# Набор тестов для эндпоинтов которые можно запустить
# в VSCode с помощью плагина  REST Client
# Найти можно по идентификатору: humao.rest-client
# Tunder Client не позволяет свободно импортировать-экспортировать записи,
# поэтому перешел на этот плагин. Он тоже хорош :-)

# Создаем книгу
POST http://localhost:8000/api/v1/books/ HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhYUBiYi5ydSIsImV4cCI6MTcwOTg1NzYwNX0.gNUT7hJoiOvSpHy-7hPrXI5I0a1ydpltAfEoW0V_IPA
 
{
    "title": "Wrong Code",
    "author": "Robert Martin",
    "seller_id" : 1,
    "pages": 104,
    "year": 2007  
}

###

# Получаем список книг
GET http://localhost:8000/api/v1/books/ HTTP/1.1

###

# Получаем одну книгу по ее ИД
GET http://localhost:8000/api/v1/books/1 HTTP/1.1

### 
# Обновляем поля в данных о книге
PUT http://localhost:8000/api/v1/books/1 HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhYUBiYi5ydSIsImV4cCI6MTcwOTg1NzYwNX0.gNUT7hJoiOvSpHy-7hPrXI5I0a1ydpltAfEoW0V_IPA
 
{
    "title": "Clean Code",
    "author": "Robert Martin",
    "count_pages": 10,
    "seller_id": 1,
    "year": 2007,
    "id": 1
}

### 
# Удаляем книгу
DELETE http://localhost:8000/api/v1/books/1 HTTP/1.1
content-type: application/json

######### Sellers
###
# Регистрируем продавца
POST http://localhost:8000/api/v1/seller/ HTTP/1.1
content-type: application/json

{
    "first_name": "GGG",
    "last_name": "FFF",
    "email": "aa@bb.ru",
    "password": "2007"
}
###
# Получаем всех продавцов
GET http://localhost:8000/api/v1/seller/ HTTP/1.1

###
#получаем продавца с книгами по id
GET http://localhost:8000/api/v1/seller/1/ HTTP/1.1

###
#обновляем продавца
PUT http://localhost:8000/api/v1/seller/1/ HTTP/1.1
content-type: application/json

{
    "first_name": "GGG2",
    "last_name": "FFF1",
    "email": "aa@bb.ru" 
} 

### 
# Удаляем продавца
DELETE http://localhost:8000/api/v1/seller/1/ HTTP/1.1
content-type: application/json


#########JWT

###
# Получаем JWT-токен 
POST http://localhost:8000/api/v1/token/ HTTP/1.1
Content-Type: application/x-www-form-urlencoded

username=aa@bb.ru&password=2007

###
# Получаем продавца с книгами по id (требует аутентификации)
GET http://localhost:8000/api/v1/seller/1/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhYUBiYi5ydSIsImV4cCI6MTcwOTg1NzYwNX0.gNUT7hJoiOvSpHy-7hPrXI5I0a1ydpltAfEoW0V_IPA
 